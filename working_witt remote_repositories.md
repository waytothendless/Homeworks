# РАБОТА С УДАЛЕННЫМИ РЕПОЗИТОРИЯМИ

Удаленный (или же "внешний") репозиторий – это версии вашего проекта, сохраненные на удаленном сервере. Доступ к репозиторию на таком сервере может осуществляться по интернету или по локальной сети. Удаленный репозиторий – это  полноценный репозиторий, ничем не отличающийся от локального. Если мы подключим удаленный репозиторий к своему локальному, то у нас появятся копии всех ссылочных объектов удаленного репозитория. При разработке собственного проекта, рано или поздно, приходится задуматься о том, где хранить исходный код и как поддерживать работу с несколькими версиями. Одна из самых популярных — это Git и сервис Github. Удалённый репозиторий на GitHub — это облако, в котором хранятся файлы проекта и история их изменений. Для управления подключением удаленных репозиториев в Git предусмотрена целая группа команд – *git remote*. 

## Добавление удаленного репозитория к существующему локальному. 

Чтобы добавить удаленный репозиторий к локальному репу в Git есть команда 

```
git remote add
```

Имя удаленного репозитория в команде *git remote add* вы может быть любое. Впоследствии, при работе с этим удаленным репозиторием, вы будете обращаться к нему по придуманному имени. Принято называть удаленный репозиторий origin, но ограничений здесь нет.

Чтобы получить ссылку на удаленный репозиторий, необходимо нажать на большую зеленую кнопку Code на странице репозитория на GitHub. Вам предложат выбрать одну из трех ссылок: для протоколов https и ssh и для клиента GitHub на компьютер два основных протокола подключения к git-серверу: HTTPS и SSH. SSH считается более надежным, но он немного сложнее в настройке.

**Настройка подключения по SSH** 

Чтобы настроить подключение по SSH, вам нужно на своем компьютере сгенерировать два SSH-ключа: публичный (public) и секретный (private). Публичный ключ передается на удаленный сервер, а секретный все время остается с вами. Удаленный сервер использует публичный ключ, чтобы удостовериться, что у вас действительно есть секретный ключ. Как только сервер убеждается в наличии у вас секретного ключа, он понимает, что вы – это вы, ведь секретный ключ нельзя подделать.

* Откройте Git Bash.
Выполните в нем команду ssh-keygen -t rsa 4096 -C "<ваша-почта>@example.com"
* Вам предложат ввести путь к директории, в которой будет сохранен ключ, а также будет выведена директория для сохранения по умолчанию. Нажмите Enter, чтобы выбрать директорию по умолчанию, либо введите любую другую директорию и тоже нажмите Enter.
* Затем вам предложат ввести пароль для файла с секретным ключом. Нажмите Enter, чтобы оставить файл без пароля, либо введите пароль и нажмите Enter.
* Теперь нужно добавить ключ в SSH-агента. Запустим агента командой eval `ssh-agent -s`
* Теперь выполните команду ssh-add <путь до приватного ключа>. Если вы оставили путь по умолчанию, ваша команда будет выглядеть так: ssh-add ~/.ssh/id_ed25519
* Добавляем публичный ключ на GitHub. Для этого откройте файл с публичным ключом (он должен иметь расширение .pub). Если вы оставили путь по умолчанию, то ваш ключ будет располагаться по адресу ~/.ssh/id_ed25519.pub.
* Скопируйте содержимое файла.
* Перейдите в настройки GitHub
* Откройте раздел SSH and GPG keys (ssh и gpg ключи)
* Нажмите New SSH key (новый ssh-ключ)
10. В поле Title (заголовок) введите содержательное название ключа, например ключ для ноутбука или ключ рабочего компьютера
* Скопированный ключ вставьте в раздел Key (ключ)
* Нажмите Add SSH key (добавить ssh-ключ)
* Возможно потребуется ввести пароль для подтверждения действия.

Теперь SSH-ключ добавлен. Вам больше не нужно вводить имя пользователя и пароль при каждой загрузке или скачивании изменений из удаленного репозитория.

## Создание и настройка репозитория на GitHub

Новый репозиторий на GitHub можно создать, нажав в правом верхнем углу на + и выбрав New repository в выпадающем меню:
Откроется страница настройки нового репозитория, на которой вводится имя репозитория, добавляется краткое описание проекта (не обязательно) и выбирается тип репозитория  - Public (будет виден всем, на странице вашего аккаунта, и все смогут писать коммиты) или Private (будет виден только вам и тем, кому вы предоставите доступ в настройках репозитория).
Страница репозитория
На открывшейся странице созданного репозитория, всё что нам нужно по проекту, находится на вкладке Code. Тут же выводится содержание файла.
Клонирование удалённого репозитория
Чтобы работать с проектом локально, и при этом, все изменения синхронизировать с удалённым репозиторием, необходимо клонировать GitHub-проект.
Для этого на странице проекта на GitHub необходимо нажать кнопку Clone or download и скопировать адрес репозитория.
Далее, в Терминале выполняется команда 

```
git clone <URL>
```

По завершению отработки команды, Терминал выдаст done — папка проекта, которую мы клонировали с GitHub появилась в папке для проектов на компе. Теперь можно работать с проектом локально — создавать файлы, редактировать их и все изменения синхронизировать с удалённым репозиторием.
Чтобы связать новый проект на GitHub с папкой проекта на компе, надо:

•	создать проект на GitHub (новый репозиторий) и скопировать его <URL>

•	перейти в Терминале в общую папку для проектов (папку самого проекта создавать не надо)

•	клонировать проект с GitHub — git clone <URL> (URL без скобок)
Чтобы локальные изменения (в данном примере — обновление файла и добавление картинки) синхронизировались с удалённым репозиторием, необходимо их сначала добавить, потом закоммитить, а потом запушить.
 
Все манипуляции с проектом делаются в папке проекта. Для этого, необходимо открыть её в Терминале. В Терминале перейдём в папку проекта (все изменения с проектом делаются в папке проекта)
Для отслеживания изменений используется команда *git status*.

Командой *git add* регистрируются (добавляются) изменения в папке проекта. 

Следующая команда регистрирует (добавляет) сразу все изменения. 

**git commit (закоммитить)**

Для создания коммита, и добавления к нему комментария используется расширенная команда 
*git commit -m "Change README, and add screenshot"*

**git push (запушить)**

Чтобы запушить локальные изменения на удалённый репозиторий, используется команда git push. Или её расширенный вариант, с указанием ветки, куда пушатся изменения:

```
git push origin master

```

При первом использовании *git push*, Git запросит логин и пароль от аккаунта на GitHub. В *git status*, теперь будет информация, что никаких новых изменений нет (nothing to commit), и коммитить нечего.
Теперь проект на Гитхабе актуальный — тут отобразились все изменения, которые были сделаны локально
Чтобы после изменения проекта, отправить локальные правки на удалённый репозиторий, надо:

•	перейти в Терминале в папку самого проекта

•	зарегистрировать изменения — git add .

•	создать коммит — git commit -m "Комментарий"

•	запушить коммит на GitHub — git push origin master

Для отслеживания статуса изменений в проекте используется команда *git status*.
Обновление локального репозитория, после изменений проекта на GitHub
Бывает так, что файлы проекта правятся прямо на сайте GitHub. Или кто-то из участников проекта запушил новые изменения. В обоих случаях, необходимо получить эти изменения и обновить локальный репозиторий.
Редактирование файлов проекта на сайте удалённого репозитория
Для редактирования файлов на сайте GitHub используется встроенный редактор. Порядок действий такой:

1.	Вносятся изменения в файле;

2.	Добавляется описание коммита;

3.	Сохраняется коммит.

После сохранения, коммит добавляется в проект и сразу примеряются все изменения.

На Гитхабе хранится история всех коммитов и подробная информация по ним. Если зайти в любой коммит, можно посмотреть какие правки были сделаны. Удалённые строки подсвечиваются красным, добавленные — зелёным.
Обновление локального репозитория
Для обновления локального репозитория, после любых изменений проекта на Гитхабе, в Терминале (надо находится в папке проекта) используется команда:

```
git pull
```

В результате выполнения команды, в Терминале отображаются изменения, которые мы забираем с удалённого репозитория. По завершению работы команды *git pull*, все файлы проекта на компе обновляются до состояния удалённого репозитория.

Чтобы после изменения проекта на Гитхабе, актуализировать проект на компе, надо:

•	в Терминале, находясь в папке проекта выполнить git push


## Работа с репозиториями

•	*git clone <URL> *(URL без скобок) - клонирование удалённого репозитория

•	*git status* - посмотреть статус проекта

•	*git add <имя_файла.расширение> *(имя файла без скобок) - добавление конкретного файла в будущий коммит

•	*git add .* - добавление всех файлов в будущий коммит

•	*git commit -m "описание коммита"* - создание коммита с описанием

•	*git push origin master* - запушить коммиты в ветку master

•	*git pull* - актуализировать проект на компе из удалённого репозитория
